<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TechKids - Fun Tech Learning for Kids!</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Google Fonts for a kid-friendly look -->
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Open+Sans:wght@400;700&display=swap" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: 'Open Sans', sans-serif;
            background: linear-gradient(135deg, #f0f8ff, #e6f7ff);
            color: #333;
            overflow-x: hidden; /* Prevent horizontal scroll from confetti */
        }
        h1, h2, h3, .navbar-brand {
            font-family: 'Fredoka One', cursive;
            color: #ff69b4; /* Hot pink for headings */
        }
        .navbar {
            background-color: #7b68ee; /* Medium Purple */
            padding: 1rem 0;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .navbar-brand, .nav-link {
            color: #fff !important;
            font-size: 1.5rem;
            transition: transform 0.2s ease-in-out;
        }
        .navbar-brand:hover, .nav-link:hover {
            transform: scale(1.05);
            color: #ffeb3b !important; /* Yellow hover */
        }
        .hero-section {
            background: linear-gradient(45deg, #a1c4fd, #c2e9fb);
            padding: 80px 0;
            text-align: center;
            color: #333;
            animation: bounceIn 1s ease-out;
            position: relative;
            overflow: hidden;
            border-bottom-left-radius: 50% 20%;
            border-bottom-right-radius: 50% 20%;
        }
        .hero-section h1 {
            font-size: 4rem;
            color: #ff69b4;
            text-shadow: 2px 2px #fff;
            margin-bottom: 20px;
        }
        .hero-section p {
            font-size: 1.5rem;
            color: #555;
            max-width: 800px;
            margin: 0 auto 30px;
        }
        .hero-button {
            background-color: #ff69b4;
            color: white;
            padding: 15px 30px;
            border-radius: 30px;
            font-size: 1.2rem;
            text-decoration: none;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .hero-button:hover {
            background-color: #ff85c1;
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }
        .section-title {
            text-align: center;
            margin-bottom: 50px;
            font-size: 3rem;
            color: #7b68ee; /* Medium Purple */
            position: relative;
        }
        .section-title::after {
            content: '';
            display: block;
            width: 80px;
            height: 5px;
            background-color: #ff69b4;
            margin: 15px auto 0;
            border-radius: 5px;
        }
        .course-card {
            background-color: #fff;
            border-radius: 15px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
            padding: 30px;
            text-align: center;
            transition: all 0.3s ease;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        .course-card:hover {
            transform: translateY(-10px) scale(1.03);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
            background-color: #f8f8ff; /* Lighter hover background */
        }
        .course-card .icon {
            font-size: 4rem;
            color: #7b68ee; /* Medium Purple */
            margin-bottom: 20px;
            animation: bounce 2s infinite ease-in-out;
        }
        .course-card h3 {
            color: #ff69b4;
            margin-bottom: 15px;
            font-size: 1.8rem;
        }
        .course-card p {
            font-size: 1.1rem;
            color: #666;
        }
        .game-button {
            background-color: #ffeb3b; /* Yellow */
            color: #333;
            border-radius: 15px;
            padding: 20px 0;
            font-size: 1.8rem;
            font-family: 'Fredoka One', cursive;
            transition: all 0.3s ease;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            height: 100%;
        }
        .game-button .icon {
            font-size: 3rem;
            margin-bottom: 10px;
            color: #7b68ee;
        }
        .game-button:hover {
            background-color: #ffee69;
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
        }
        .modal-content {
            border-radius: 20px;
            background-color: #f0f8ff;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            border: none;
        }
        .modal-header {
            background-color: #7b68ee;
            color: #fff;
            border-top-left-radius: 20px;
            border-top-right-radius: 20px;
            border-bottom: none;
        }
        .modal-title {
            font-family: 'Fredoka One', cursive;
            color: #fff;
            font-size: 2rem;
        }
        .modal-body {
            padding: 30px;
            color: #333;
        }
        .modal-footer {
            border-top: none;
        }
        footer {
            background-color: #ff69b4; /* Hot pink */
            color: white;
            padding: 30px 0;
            text-align: center;
            margin-top: 80px;
            font-size: 1.2rem;
            box-shadow: 0 -4px 8px rgba(0, 0, 0, 0.1);
            border-top-left-radius: 50% 20%;
            border-top-right-radius: 50% 20%;
        }
        footer a {
            color: #fff;
            text-decoration: none;
            margin: 0 10px;
            transition: color 0.2s ease-in-out;
        }
        footer a:hover {
            color: #ffeb3b; /* Yellow hover */
        }
        .game-input, .game-button-inside {
            padding: 10px 20px;
            border-radius: 10px;
            border: 2px solid #7b68ee;
            font-size: 1.1rem;
            margin: 10px;
        }
        .game-button-inside {
            background-color: #ffeb3b;
            color: #333;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .game-button-inside:hover {
            background-color: #ffee69;
        }
        #maze-game-container {
            width: 300px;
            height: 300px;
            border: 2px solid #7b68ee;
            margin: 20px auto;
            position: relative;
            background-color: #fff;
            overflow: hidden; /* Ensure player stays within bounds */
        }
        #maze-player {
            width: 20px;
            height: 20px;
            background-color: #ff69b4;
            position: absolute;
            top: 0;
            left: 0;
            border-radius: 50%;
        }
        #maze-finish {
            width: 20px;
            height: 20px;
            background-color: green;
            position: absolute;
            top: 280px;
            left: 280px;
            border-radius: 50%;
        }
        .confetti-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
        }

        /* Animations */
        @keyframes bounceIn {
            0% { opacity: 0; transform: scale(0.8); }
            60% { opacity: 1; transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        .icon-bounce:hover {
            animation: iconBounce 0.5s ease-in-out infinite alternate;
        }
        @keyframes iconBounce {
            from { transform: translateY(0); }
            to { transform: translateY(-5px); }
        }
    </style>
</head>
<body>

    <!-- Confetti Canvas -->
    <canvas id="confetti-canvas" class="confetti-canvas"></canvas>

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg">
        <div class="container">
            <a class="navbar-brand" href="#">TechKids <i class="fas fa-rocket icon-bounce"></i></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#hero">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#courses">Courses</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#games">Games</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Contact</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="hero" class="hero-section">
        <div class="container">
            <h1>Welcome to TechKids! <span class="wave-emoji">👋</span></h1>
            <p>Unleash your inner tech wizard! Learn to code, create, and innovate with fun lessons and exciting games designed just for you.</p>
            <a href="#courses" class="btn hero-button">Start Learning Now! <i class="fas fa-arrow-right"></i></a>
        </div>
    </section>

    <!-- Courses Section -->
    <section id="courses" class="py-5">
        <div class="container">
            <h2 class="section-title">Our Awesome Courses</h2>
            <div class="row g-4">
                <div class="col-md-4 col-lg-3">
                    <div class="course-card">
                        <div class="icon"><i class="fas fa-brain"></i></div>
                        <h3>AI & Machine Learning</h3>
                        <p>Discover how computers can think and learn!</p>
                    </div>
                </div>
                <div class="col-md-4 col-lg-3">
                    <div class="course-card">
                        <div class="icon"><i class="fab fa-python"></i></div>
                        <h3>Python Programming</h3>
                        <p>Learn the super popular and fun Python language.</p>
                    </div>
                </div>
                <div class="col-md-4 col-lg-3">
                    <div class="course-card">
                        <div class="icon"><i class="fab fa-html5"></i></div>
                        <h3>HTML & CSS</h3>
                        <p>Build amazing websites from scratch with code!</p>
                    </div>
                </div>
                <div class="col-md-4 col-lg-3">
                    <div class="course-card">
                        <div class="icon"><i class="fab fa-js"></i></div>
                        <h3>JavaScript</h3>
                        <p>Make your websites interactive and super cool!</p>
                    </div>
                </div>
                <div class="col-md-4 col-lg-3">
                    <div class="course-card">
                        <div class="icon"><i class="fab fa-bootstrap"></i></div>
                        <h3>Bootstrap</h3>
                        <p>Design responsive and beautiful sites easily.</p>
                    </div>
                </div>
                <div class="col-md-4 col-lg-3">
                    <div class="course-card">
                        <div class="icon"><i class="fas fa-globe"></i></div>
                        <h3>Web Development</h3>
                        <p>Become a pro at building any kind of website.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Games Section -->
    <section id="games" class="py-5 bg-light">
        <div class="container">
            <h2 class="section-title">Play & Learn with Games!</h2>
            <div class="row g-4">
                <div class="col-md-6 col-lg-3">
                    <button class="btn game-button" data-bs-toggle="modal" data-bs-target="#guessTheNumberModal">
                        <div class="icon"><i class="fas fa-question"></i></div>
                        Guess the Number
                    </button>
                </div>
                <div class="col-md-6 col-lg-3">
                    <button class="btn game-button" data-bs-toggle="modal" data-bs-target="#rollTheDiceModal">
                        <div class="icon"><i class="fas fa-dice"></i></div>
                        Roll the Dice
                    </button>
                </div>
                <div class="col-md-6 col-lg-3">
                    <button class="btn game-button" data-bs-toggle="modal" data-bs-target="#ticTacToeModal">
                        <div class="icon"><i class="fas fa-times"></i><i class="fas fa-circle"></i></div>
                        Tic Tac Toe
                    </button>
                </div>
                <div class="col-md-6 col-lg-3">
                    <button class="btn game-button" data-bs-toggle="modal" data-bs-target="#mazeGameModal">
                        <div class="icon"><i class="fas fa-maze"></i></div>
                        Maze Game
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Modals for Games -->

    <!-- Guess the Number Modal -->
    <div class="modal fade" id="guessTheNumberModal" tabindex="-1" aria-labelledby="guessTheNumberModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="guessTheNumberModalLabel">Guess the Number!</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body text-center">
                    <p>I'm thinking of a number between 1 and 100. Can you guess it?</p>
                    <input type="number" id="guessInput" class="form-control game-input" placeholder="Enter your guess" min="1" max="100">
                    <button id="guessButton" class="btn game-button-inside mt-3">Guess!</button>
                    <p id="guessResult" class="mt-3"></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Roll the Dice Modal -->
    <div class="modal fade" id="rollTheDiceModal" tabindex="-1" aria-labelledby="rollTheDiceModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="rollTheDiceModalLabel">Roll the Dice!</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body text-center">
                    <p>Click the button to roll the dice!</p>
                    <h1 id="diceResult" style="font-size: 5rem;"><i class="fas fa-dice-one"></i></h1>
                    <button id="rollDiceButton" class="btn game-button-inside mt-3">Roll Dice</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Tic Tac Toe Modal -->
    <div class="modal fade" id="ticTacToeModal" tabindex="-1" aria-labelledby="ticTacToeModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="ticTacToeModalLabel">Tic Tac Toe!</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body text-center">
                    <div id="ticTacToeBoard" class="d-inline-block">
                        <div class="row row-cols-3 g-0" style="width: 200px; height: 200px;">
                            <div class="col"><div class="tic-tac-toe-cell" data-cell-index="0"></div></div>
                            <div class="col"><div class="tic-tac-toe-cell" data-cell-index="1"></div></div>
                            <div class="col"><div class="tic-tac-toe-cell" data-cell-index="2"></div></div>
                            <div class="col"><div class="tic-tac-toe-cell" data-cell-index="3"></div></div>
                            <div class="col"><div class="tic-tac-toe-cell" data-cell-index="4"></div></div>
                            <div class="col"><div class="tic-tac-toe-cell" data-cell-index="5"></div></div>
                            <div class="col"><div class="tic-tac-toe-cell" data-cell-index="6"></div></div>
                            <div class="col"><div class="tic-tac-toe-cell" data-cell-index="7"></div></div>
                            <div class="col"><div class="tic-tac-toe-cell" data-cell-index="8"></div></div>
                        </div>
                    </div>
                    <p id="ticTacToeStatus" class="mt-3 fs-4">Player X's Turn</p>
                    <button id="ticTacToeReset" class="btn game-button-inside mt-3">Reset Game</button>
                    <style>
                        .tic-tac-toe-cell {
                            width: 66px; /* 200px / 3 */
                            height: 66px; /* 200px / 3 */
                            border: 2px solid #7b68ee;
                            display: flex;
                            justify-content: center;
                            align-items: center;
                            font-size: 3rem;
                            font-family: 'Fredoka One', cursive;
                            cursor: pointer;
                            transition: background-color 0.2s;
                            box-sizing: border-box; /* Include padding and border in the element's total width and height */
                        }
                        .tic-tac-toe-cell:hover {
                            background-color: #e6f7ff;
                        }
                        .tic-tac-toe-cell:nth-child(3n) { border-right: none; }
                        .tic-tac-toe-cell:nth-child(n+7) { border-bottom: none; }
                        .tic-tac-toe-cell.X { color: #ff69b4; }
                        .tic-tac-toe-cell.O { color: #7b68ee; }
                    </style>
                </div>
            </div>
        </div>
    </div>

    <!-- Maze Game Modal -->
    <div class="modal fade" id="mazeGameModal" tabindex="-1" aria-labelledby="mazeGameModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="mazeGameModalLabel">Maze Game!</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body text-center">
                    <p>Navigate the maze using the arrow keys! Get to the green circle.</p>
                    <div id="maze-game-container">
                        <div id="maze-player"></div>
                        <div id="maze-finish"></div>
                        <!-- Simple walls for demo -->
                        <div style="position: absolute; background-color: #333; top: 50px; left: 0; width: 100px; height: 10px;"></div>
                        <div style="position: absolute; background-color: #333; top: 100px; left: 100px; width: 10px; height: 100px;"></div>
                        <div style="position: absolute; background-color: #333; top: 150px; left: 50px; width: 150px; height: 10px;"></div>
                        <div style="position: absolute; background-color: #333; top: 200px; left: 180px; width: 10px; height: 100px;"></div>
                        <div style="position: absolute; background-color: #333; top: 250px; left: 0; width: 200px; height: 10px;"></div>
                    </div>
                    <p id="mazeGameStatus" class="mt-3 fs-4"></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <p>Happy Learning! <i class="fas fa-heartbeat"></i> <i class="fas fa-laptop-code"></i></p>
            <div>
                <a href="#">About Us</a> | <a href="#">Contact</a> | <a href="#">Privacy Policy</a>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS Bundle (popper included) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <!-- Confetti JS -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>

    <script>
        // Confetti on page load
        $(document).ready(function() {
            var confettiCanvas = document.getElementById('confetti-canvas');
            var myConfetti = confetti.create(confettiCanvas, {
                resize: true,
                useWorker: true
            });

            myConfetti({
                particleCount: 150,
                spread: 120,
                origin: { y: 0.6 },
                colors: ['#ff69b4', '#7b68ee', '#ffeb3b', '#a1c4fd', '#c2e9fb']
            });
        });

        // jQuery for a simple hover effect on course cards (already handled by CSS, but good for demo)
        $(document).ready(function() {
            $('.course-card').hover(function() {
                // You can add more complex JS animations here if needed,
                // but CSS transforms are generally more performant for simple hover effects.
            }, function() {
                // Revert animations
            });
        });

        /* --- Game Logic --- */

        // Guess the Number Game
        let secretNumber;
        let attempts;

        $('#guessTheNumberModal').on('show.bs.modal', function() {
            secretNumber = Math.floor(Math.random() * 100) + 1;
            attempts = 0;
            $('#guessResult').text('');
            $('#guessInput').val('');
        });

        $('#guessButton').on('click', function() {
            const guess = parseInt($('#guessInput').val());
            if (isNaN(guess) || guess < 1 || guess > 100) {
                $('#guessResult').text('Please enter a valid number between 1 and 100.');
                return;
            }
            attempts++;
            if (guess === secretNumber) {
                $('#guessResult').text(`Congratulations! You guessed the number ${secretNumber} in ${attempts} attempts! 🎉`);
                // Trigger a small confetti burst for winning
                confetti({
                    particleCount: 100,
                    spread: 70,
                    origin: { y: 0.6 },
                    colors: ['#ff69b4', '#7b68ee', '#ffeb3b']
                });
            } else if (guess < secretNumber) {
                $('#guessResult').text('Too low! Try again.');
            } else {
                $('#guessResult').text('Too high! Try again.');
            }
            $('#guessInput').val('');
        });

        // Roll the Dice Game
        const diceFaces = ['<i class="fas fa-dice-one"></i>', '<i class="fas fa-dice-two"></i>', '<i class="fas fa-dice-three"></i>', '<i class="fas fa-dice-four"></i>', '<i class="fas fa-dice-five"></i>', '<i class="fas fa-dice-six"></i>'];

        $('#rollDiceButton').on('click', function() {
            const randomIndex = Math.floor(Math.random() * diceFaces.length);
            $('#diceResult').html(diceFaces[randomIndex]);
        });

        // Tic Tac Toe Game
        let ticTacToeBoard = ['', '', '', '', '', '', '', '', ''];
        let currentPlayer = 'X';
        let isGameActive = true;

        const winningConditions = [
            [0, 1, 2], [3, 4, 5], [6, 7, 8], // Rows
            [0, 3, 6], [1, 4, 7], [2, 5, 8], // Columns
            [0, 4, 8], [2, 4, 6]             // Diagonals
        ];

        function handleCellClick(clickedCellEvent) {
            const clickedCell = $(clickedCellEvent.target);
            const clickedCellIndex = parseInt(clickedCell.attr('data-cell-index'));

            if (ticTacToeBoard[clickedCellIndex] !== '' || !isGameActive) {
                return;
            }

            ticTacToeBoard[clickedCellIndex] = currentPlayer;
            clickedCell.text(currentPlayer).addClass(currentPlayer);
            handleResultValidation();
        }

        function handleResultValidation() {
            let roundWon = false;
            for (let i = 0; i < winningConditions.length; i++) {
                const winCondition = winningConditions[i];
                let a = ticTacToeBoard[winCondition[0]];
                let b = ticTacToeBoard[winCondition[1]];
                let c = ticTacToeBoard[winCondition[2]];

                if (a === '' || b === '' || c === '') {
                    continue;
                }
                if (a === b && b === c) {
                    roundWon = true;
                    break;
                }
            }

            if (roundWon) {
                $('#ticTacToeStatus').text(`Player ${currentPlayer} Wins! 🎉`);
                isGameActive = false;
                // Confetti for Tic Tac Toe win
                confetti({
                    particleCount: 100,
                    spread: 70,
                    origin: { y: 0.6 },
                    colors: ['#ff69b4', '#7b68ee', '#ffeb3b']
                });
                return;
            }

            let roundDraw = !ticTacToeBoard.includes('');
            if (roundDraw) {
                $('#ticTacToeStatus').text('It\'s a Draw! 🤝');
                isGameActive = false;
                return;
            }

            currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
            $('#ticTacToeStatus').text(`Player ${currentPlayer}'s Turn`);
        }

        function resetTicTacToeGame() {
            ticTacToeBoard = ['', '', '', '', '', '', '', '', ''];
            isGameActive = true;
            currentPlayer = 'X';
            $('.tic-tac-toe-cell').text('').removeClass('X O');
            $('#ticTacToeStatus').text(`Player ${currentPlayer}'s Turn`);
        }

        $('#ticTacToeModal').on('show.bs.modal', function() {
            resetTicTacToeGame();
        });

        $('#ticTacToeBoard').on('click', '.tic-tac-toe-cell', handleCellClick);
        $('#ticTacToeReset').on('click', resetTicTacToeGame);

        // Maze Game
        const mazePlayer = document.getElementById('maze-player');
        const mazeFinish = document.getElementById('maze-finish');
        const mazeContainer = document.getElementById('maze-game-container');
        let playerX = 0;
        let playerY = 0;
        const playerSpeed = 10;
        const mazeWidth = 300;
        const mazeHeight = 300;
        const playerSize = 20;

        function updatePlayerPosition() {
            mazePlayer.style.left = playerX + 'px';
            mazePlayer.style.top = playerY + 'px';
            checkCollision();
        }

        function checkCollision() {
            const playerRect = mazePlayer.getBoundingClientRect();
            const finishRect = mazeFinish.getBoundingClientRect();
            const mazeContainerRect = mazeContainer.getBoundingClientRect();

            // Check walls (simple hardcoded for demo)
            // This would be more complex with an actual maze grid
            const walls = [
                { x: 0, y: 50, width: 100, height: 10 },
                { x: 100, y: 100, width: 10, height: 100 },
                { x: 50, y: 150, width: 150, height: 10 },
                { x: 180, y: 200, width: 10, height: 100 },
                { x: 0, y: 250, width: 200, height: 10 }
            ];

            for (let wall of walls) {
                const wallAbsX = wall.x + mazeContainerRect.left;
                const wallAbsY = wall.y + mazeContainerRect.top;

                if (playerRect.left < wallAbsX + wall.width &&
                    playerRect.left + playerRect.width > wallAbsX &&
                    playerRect.top < wallAbsY + wall.height &&
                    playerRect.top + playerRect.height > wallAbsY) {
                    $('#mazeGameStatus').text('Ouch! You hit a wall. Try again!');
                    resetMazeGame();
                    return;
                }
            }


            // Check boundary collision
            if (playerX < 0 || playerX + playerSizemazeWidth || playerY < 0 || playerY + playerSize > mazeHeight) {
              $('#mazeGameStatus').text('Ouch! You hit the boundary. Try again!');
              resetMazeGame();
              return;
          }
                  // Check if reached finish line
        if (playerRect.left < finishRect.left + finishRect.width &&
            playerRect.left + playerRect.width > finishRect.left &&
            playerRect.top < finishRect.top + finishRect.height &&
            playerRect.top + playerRect.height > finishRect.top) {
            $('#mazeGameStatus').text('Congratulations! You solved the maze! 🎉');
            // Trigger a small confetti burst for winning
            confetti({
                particleCount: 100,
                spread: 70,
                origin: { y: 0.6 },
                colors: ['#ff69b4', '#7b68ee', '#ffeb3b']
            });
            // Optional: Disable movement or reset game
            document.removeEventListener('keydown', handleMazeKeyDown);
        }
    }

    function handleMazeKeyDown(e) {
        switch (e.key) {
            case 'ArrowUp':
                playerY = Math.max(0, playerY - playerSpeed);
                break;
            case 'ArrowDown':
                playerY = Math.min(mazeHeight - playerSize, playerY + playerSpeed);
                break;
            case 'ArrowLeft':
                playerX = Math.max(0, playerX - playerSpeed);
                break;
            case 'ArrowRight':
                playerX = Math.min(mazeWidth - playerSize, playerX + playerSpeed);
                break;
        }
        updatePlayerPosition();
    }

    function resetMazeGame() {
        playerX = 0;
        playerY = 0;
        updatePlayerPosition();
        $('#mazeGameStatus').text('');
        document.addEventListener('keydown', handleMazeKeyDown); // Re-add listener if it was removed
    }

    $('#mazeGameModal').on('show.bs.modal', function() {
        resetMazeGame();
        document.addEventListener('keydown', handleMazeKeyDown);
    });

    $('#mazeGameModal').on('hide.bs.modal', function() {
        document.removeEventListener('keydown', handleMazeKeyDown);
    });

</script>
</body>
</html>
